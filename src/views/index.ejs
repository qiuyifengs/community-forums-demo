
<!DOCTYPE html>
<html>
    <head>
        <title><%= title %></title>
        <link rel="icon" href="/images/collection.png" type="img/x-ico" />
        <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=0" charset="UTF-8">
        <!-- 可隐藏地址栏，仅针对IOS的Safari（注：IOS7.0版本以后，safari上已看不到效果） -->
        <meta name="apple-mobile-web-app-capable" content="yes" />
        <!-- 仅针对IOS的Safari顶端状态条的样式（可选default/black/black-translucent ） -->
        <meta name="apple-mobile-web-app-status-bar-style" content="black" />
        <!-- IOS中禁用将数字识别为电话号码/忽略Android平台中对邮箱地址的识别 -->
        <meta name="format-detection"content="telephone=no, email=no" />
        <link rel='stylesheet' href='/style/mobile.css'/>
        <% include ./common/script %>

        <!-- <script src="/js/mobile/iscroll.js"></script> -->
        
        <style>
            .swiper-wrapper img {
                width: 100%
            }
        </style>
    </head>
    <body>
    <section id="app" class="gm-flexview">
        
        <aside id="menu" class="gm-drawer gm-drawer-left gm-drawer-light menu">

            <div class="gm-drawer-sidebar">
                <div class="gm-list-header gm-components-global-header .gm-components-global-header-action">
                    <span class="ghost-avatar ghost-pro-components-global-header-index-avatar ghost-avatar-lg ghost-avatar-circle ant-avatar-image">
                        <img src="https://gw.alipayobjects.com/zos/antfincdn/XAosXuNZyF/BiazfanxmamNRoxxVxka.png" alt="avatar">
                    </span>
                    <span class="gm-components-sidebar-name">
                        登录/注册
                    </span>
                </div>
                

                <div class="swiper-container">
                    <div class="swiper-wrapper">
                        <ul class="gm-list swiper-slide" style="padding-top: 48px">
                            <li class="gm-list-item gm-list-item-middle">
                                <div class="gm-list-thumb"></div>
                                <div class="gm-list-line gm-list-line-multiple" data-id='1'>
                                    <a role="button" class="gm-button gm-button-inline gm-button-icon">
                                        <svg class="gm-button-icon gm-icon gm-icon-check-circle-o gm-icon-sm" aria-hidden="true">
                                            <use xlink:href="#icon-gerenziliao"></use>
                                        </svg>
                                        <span>个人中心</span>
                                    </a>
                                </div>
                            </li>
                            <li class="gm-list-item gm-list-item-middle">
                                <div class="gm-list-thumb"></div>
                                <div class="gm-list-line gm-list-line-multiple" data-id='2'>
                                    <a role="button" class="gm-button gm-button-inline gm-button-icon">
                                        <svg class="gm-button-icon gm-icon gm-icon-check-circle-o gm-icon-sm" aria-hidden="true">
                                            <use xlink:href="#icon-tiezi"></use>
                                        </svg>
                                        <span>我的帖子</span>
                                    </a>
                                </div>
                            </li>
                            <li class="gm-list-item gm-list-item-middle">
                                <div class="gm-list-thumb"></div>
                                <div class="gm-list-line gm-list-line-multiple" data-id='3'>
                                    <a role="button" class="gm-button gm-button-inline gm-button-icon">
                                        <svg class="gm-button-icon gm-icon gm-icon-check-circle-o gm-icon-sm" aria-hidden="true">
                                            <use xlink:href="#icon-huifu"></use>
                                        </svg>
                                        <span>我的回复</span>
                                    </a>
                                </div>
                            </li>
                            <li class="gm-list-item gm-list-item-middle">
                                <div class="gm-list-thumb"></div>
                                <div class="gm-list-line gm-list-line-multiple" data-id='5'>
                                    <a role="button" class="gm-button gm-button-inline gm-button-icon">
                                        <svg class="gm-button-icon gm-icon gm-icon-check-circle-o gm-icon-sm" aria-hidden="true">
                                            <use xlink:href="#icon-unie601"></use>
                                        </svg>
                                        <span>我的收藏</span>
                                    </a>
                                </div>
                            </li>
                        </ul>
                    </div>
                </div>
        
                <div class="gm-list-footer">
                    <a role="button" class="gm-button gm-button-inline gm-button-icon">
                        <svg class="gm-button-icon gm-icon gm-icon-check-circle-o gm-icon-sm" aria-hidden="true">
                            <use xlink:href="#icon-abort"></use>
                        </svg>
                        <span>退出登录</span>
                    </a>
                </div>
            </div>
            
        </aside>

        <main id="main" class="gm-drawer-outpanel" >
            <div class="gm-drawer-overlay" id="gm-drawer-overlay"></div>
            <header class="gm-navbar gm-navbar-light auto-hide-header">
                <div class="gm-navbar-left">
                    <svg class="gm-icon gm-icon-drawer-handle gm-icon-md js-slideout-toggle" aria-hidden="true" style="z-index: 999">
                        <use xlink:href="#icon-fenlei"></use>
                    </svg>
                </div>
                <div class="gm-navbar-title">FORUM</div>
                <div class="gm-navbar-right">
                    <svg class="gm-icon gm-icon-search gm-icon-md" aria-hidden="true">
                        <use xlink:href="#icon-sousuo1"></use>
                    </svg>
                </div>
            </header>
            <!-- <form class="gm-search gm-search-start">
                <div class="gm-search-input">
                    <div class="gm-search-synthetic-ph" style="width: 110px">
                        <span class="gm-search-synthetic-ph-container"></span>
                    </div>
                    <input type="search" class="gm-search-valye" placeholder="请输入关键字查询..." />
                    <a class="gm-search-clear"></a>
                </div>
                <div class="gm-search-cancel gm-search-cancel-show gm-search-cancel-anim">取消</div>
            </form> -->
            
            <!-- <nav class="gm-tabs gm-tabs-horizontal gm-tabs-top secondary-nav" style="background-color: #fff; box-shadow: 0 2px 8px #485ec036; z-index: 2">
                <div class="gm-tabs-tab-bar-wrap">
                    <div class="gm-tabs-default-bar gm-tabs-default-bar-animated gm-tabs-default-bar-top swiper-container" id="menuWrapper">
                        
                        <ul role="tablist" class="gm-tabs-default-bar-content tablist swiper-wrapper">
                            <% postList.menuList.forEach(function(menuItem) { %>
                                <li role="tab" class="gm-tabs-default-bar-tab swiper-slide"><%= menuItem.menu %></li>
                            <% }) %>
                            
                        </ul>
                        <div class="bar"></div>
                    </div>
                </div>
            </nav> -->

            <div id="container-top">

                <nav class="gm2-tabs gm2-tabs-top gm2-tabs-line secondary-nav">
                    <div class="gm2-tabs-bar gm2-tabs-top-bar">
                        <div class="gm2-tabs-nav-container">
                            <div class="gm2-tabs-nav-wrap">
                                <div class="gm2-tabs-nav-scroll swiper-container" id="secondary-nav">
                                    
                                    <div class="gm2-tabs-nav gm2-tabs-nav-animated swiper-wrapper tablist">
                                        <% postList.menuList.forEach(function(menuItem, index) { %>
                                            <div class="gm2-tabs-tab swiper-slide" data-tab-id="<%= index%>" data-tab-title="<%= menuItem.menuId%>">
                                                <span><%= menuItem.menuId %></span>
                                            </div>
                                        <% }) %>
                                        
                                        <div class="gm2-tabs-ink-bar gm2-tabs-ink-animated"></div>
                                        <!-- <div class="gm2-tabs-ink-bar-overlay" v-on:click="onTabClick"></div> -->
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </nav>

                <section>
                    <div class="carouselMap swiper-container">
                        <div class="swiper-wrapper">
                            <div class="swiper-slide"><img src="/images/1.png" alt=""></div>
                            <div class="swiper-slide"><img src="/images/2.png" alt=""></div>
                            <div class="swiper-slide"><img src="/images/3.png" alt=""></div>
                            <div class="swiper-slide"><img src="/images/4.png" alt=""></div>
                        </div>
                        
                        <div class="swiper-pagination"></div>
                    </div>
                </section>

                <article id="page" class="swiper-container">
                    <div class="swiper-wrapper">
                        <div class="swiper-slide">
                            <article class="gm-tabs-content-wrap gm-tabs-content-wrap-animated sub-nav-hero">
                                <div role="tabpanel" class="gm-tabs-pane-wrap gm-tabs-pane-wrap-active">
                                    <div class="ghost-loading-mask" style="display: none">
                                        <div class="ghost-loading-spinner">
                                            <svg viewBox="25 25 50 50" class="circular"><circle cx="50" cy="50" r="20" fill="none" class="path"></circle></svg>
                                        </div>
                                    </div>

                                    <% if (postList.articleList && (postList.articleList.length > 0)) { %>
                                    <div class="gm-list gm-push-to-refresh-content-wrapper swiper-container scroll">
                                        <div class="gm-list-body gm-push-to-refresh-content gm-push-to-refresh-down gm-push-to-refresh-transition swiper-wrapper">
                                            <div class="gm-push-to-refresh-indicator">下拉可以刷新</div>
                                            <% postList.articleList.forEach(function(articleItem) {%>
                                            <div class="gm-list-item gm-list-item-middle minHeight swiper-slide">
                                                <div class="gm-list-line am-list-line-multiple">
                                                    <div class="gm-list-content">
                                                        <div class="gm-card">
                                                            <div class="gm-card-header">
                                                                <div class="gm-card-header-content">
                                                                    <% if(articleItem.top) { %>
                                                                    <span class="ghost-tag ghost-tag-has-color" style="background-color: var(--col-top)">置顶</span>
                                                                    <% } %>
                                                                    <span class="gm-card-header-title fs18">
                                                                        <%=articleItem.articleTitle%>
                                                                    </span>
                                                                </div>
                                                            </div>
                                                            <div class="gm-card-body">
                                                                <div class="gm-card-body-content"><%- articleItem.articleContent %></div>
                                                                <div class="gm-card-body-extra">
                                                                    
                                                                </div>
                                                            </div>
                                                            <div class="gm-card-footer">
                                                                <span class="ghost-tag-list">
                                                                    <% articleItem.articleLabel.forEach(function(labelItem) {%>
                                                                    <span class="ghost-tag ghost-tag-has-color ghost-tag-color-primary"><%= labelItem %></span>
                                                                    <% }) %>
                                                                </span>
                                                                <div class="gm-card-footer-meta">
                                                                    <div class="gm-card-footer-content">
                                                                        <em class="format-time"><%= articleItem.publishTime %></em>
                                                                    </div>
                                                                    <div class="gm-card-footer-extra">
                                                                        <span class="from-type">来自分类：<%= articleItem.articleType %></span>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <% }) %>
                                        </div>
                                    </div>
                                    <% } %>
                                    <% if ((postList.total * 1) < 1) { %>
                                        <div class="ghost-empty">
                                            <dvi class="ghost-empty-image">
                                                <img src="/images/no_data.png" alt="">
                                            </dvi>
                                            <p class="ghost-empty-description">暂无相关文章</p>
                                        </div>
                                    <% } %>
                                </div>
                            </article>
                        </div>

                        <div class="swiper-slide">
                            <div class="swiper-container scroll">
                                    slide2
                            </div>
                        </div>

                        <div class="swiper-slide">
                            <div class="swiper-container scroll">
                                    slide3
                            </div>
                        </div>

                        <div class="swiper-slide">
                            <div class="swiper-container scroll">
                                    slide4
                            </div>
                        </div>

                        <div class="swiper-slide">
                            <div class="swiper-container scroll">
                                    slide5
                            </div>
                        </div>

                        <div class="swiper-slide">
                            <div class="swiper-container scroll">
                                    slide6
                            </div>
                        </div>

                        <div class="swiper-slide">
                            <div class="swiper-container scroll">
                                    slide7
                            </div>
                        </div>

                        <div class="swiper-slide">
                            <div class="swiper-container scroll">
                                    slide8
                            </div>
                        </div>

                        <div class="swiper-slide">
                            <div class="swiper-container scroll">
                                    slide9
                            </div>
                        </div>
                        
                    </div>
                    
                </article>
            </div>

            <!-- <div class="gm-list-view-scrollview">
                <div class="gm-push-to-refresh-content-wrapper">
                    <div class="gm-push-to-refresh-content gm-push-to-refresh-down gm-push-to-refresh-transition swiper-wrapper">
                        <div class="gm-push-to-refresh-indicator">
                        </div>
                        <div class="swiper-slide">
                            <div class="ghost-loading-spinner">
                                <svg viewBox="25 25 50 50" class="circular"><circle cx="50" cy="50" r="20" fill="none" class="path"></circle></svg>
                            </div>
                        </div>
                        <div class="swiper-slide">Slide 2</div>
                    </div>
                </div>
            </div> -->
            
           <!-- <article class="gm-tabs-content-wrap gm-tabs-content-wrap-animated sub-nav-hero">
                <div role="tabpanel" class="gm-tabs-pane-wrap gm-tabs-pane-wrap-active">
                    <div class="ghost-loading-mask" style="display: none">
                        <div class="ghost-loading-spinner">
                            <svg viewBox="25 25 50 50" class="circular"><circle cx="50" cy="50" r="20" fill="none" class="path"></circle></svg>
                        </div>
                    </div>

                    <% if (postList.articleList && (postList.articleList.length > 0)) { %>
                    <div class="gm-list gm-push-to-refresh-content-wrapper">
                        <div class="gm-list-body gm-push-to-refresh-content gm-push-to-refresh-down gm-push-to-refresh-transition">
                            <div class="gm-push-to-refresh-indicator">下拉可以刷新</div>
                            <% postList.articleList.forEach(function(articleItem) {%>
                            <div class="gm-list-item gm-list-item-middle minHeight">
                                <div class="gm-list-line am-list-line-multiple">
                                    <div class="gm-list-content">

                                        <div class="gm-card">
                                            <div class="gm-card-header">
                                                <div class="gm-card-header-content">
                                                    <% if(articleItem.top) { %>
                                                    <span class="ghost-tag ghost-tag-has-color" style="background-color: var(--col-top)">置顶</span>
                                                    <% } %>
                                                    <span class="gm-card-header-title fs18">
                                                        <%=articleItem.articleTitle%>
                                                    </span>
                                                </div>
                                            </div>
                                            <div class="gm-card-body">
                                                <div class="gm-card-body-content"><%- articleItem.articleContent %></div>
                                                <div class="gm-card-body-extra">
                                                    <img src="https://zos.alipayobjects.com/rmsportal/dNuvNrtqUztHCwM.png">
                                                </div>
                                            </div>
                                            <div class="gm-card-footer">
                                                <span class="ghost-tag-list">
                                                    <% articleItem.articleLabel.forEach(function(labelItem) {%>
                                                    <span class="ghost-tag ghost-tag-has-color ghost-tag-color-primary"><%= labelItem %></span>
                                                    <% }) %>
                                                </span>
                                                <div class="gm-card-footer-meta">
                                                    <div class="gm-card-footer-content">
                                                        <em class="format-time"><%= articleItem.publishTime %></em>
                                                    </div>
                                                    <div class="gm-card-footer-extra">
                                                        <span class="from-type">来自分类：<%= articleItem.articleType %></span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <% }) %>
                        </div>
                    </div>
                    <% } %>
                    <% if ((postList.total * 1) < 1) { %>
                        <div class="ghost-empty">
                            <dvi class="ghost-empty-image">
                                <img src="/images/no_data.png" alt="">
                            </dvi>
                            <p class="ghost-empty-description">暂无相关文章</p>
                        </div>
                    <% } %>
                </div>
            </article> -->

        </main>
        
    </section>
    </body>
    <% include ./common/mobile-script %>
    <script src="/js/mobile/index.js"></script>
    <!-- <script>
            
            tSpeed = 300 //切换速度300ms
            var navSwiper = new Swiper('#secondary-nav', {
                slidesPerView: 'auto',
                
                freeMode: true,
                grabCursor: true,
                on: {
                    init: function() {
                        navSlideWidth = this.slides.eq(0).css('width');
                        bar = this.$el.find('.gm2-tabs-ink-bar')
                        bar.css('width', navSlideWidth)
                        bar.transition(tSpeed)
                        navSum = this.slides[this.slides.length - 1].offsetLeft //最后一个slide的位置
          
                        clientWidth = parseInt(this.$wrapperEl.css('width')) //Nav的可视宽度
                        navWidth = 0
                        for (i = 0; i < this.slides.length; i++) {
                            navWidth += parseInt(this.slides.eq(i).css('width'))
                        }
                        console.log('navWidth', navWidth)
          
                        topBar = this.$el.parents('body').find('#container-top') //页头
                    },
          
                },
            });
            
            var pageSwiper = new Swiper('#page', {
                watchSlidesProgress: true,
                resistanceRatio: 0,
                on: {
                    touchMove: function() {
                        console.log
                        progress = this.progress
                        bar.transition(0)
                        bar.transform('translateX(' + navSum * progress + 'px)')
                        // for (i = 0; i < this.slides.length; i++) {
                        //     slideProgress = this.slides[i].progress
                        //     if (Math.abs(slideProgress) < 1) {
                        //         r = Math.floor((255 - 51) * (1 - Math.pow(Math.abs(slideProgress), 2)) + 51)
                        //         g = Math.floor((72 - 51) * (1 - Math.pow(Math.abs(slideProgress), 2)) + 51)
                        //         b = Math.floor((145 - 51) * (1 - Math.pow(Math.abs(slideProgress), 2)) + 51)
                        //         navSwiper.slides.eq(i).find('span').css('color', 'rgba(' + r + ',' + g + ',' + b + ',1)')
                        //     }
                        // }
                    },
                    transitionStart: function() {
                        activeIndex = this.activeIndex
                        activeSlidePosition = navSwiper.slides[activeIndex].offsetLeft
                        bar.css('width', navSwiper.slides.eq(activeIndex).css('width'))
                        //释放时导航 bar条移动过渡
                        bar.transition(tSpeed)
                        bar.transform('translateX(' + activeSlidePosition + 'px)')
                        //释放时文字变色过渡
                        navSwiper.slides.eq(activeIndex).find('span').transition(tSpeed)
                        navSwiper.slides.eq(activeIndex).find('span').css('color', '#485ec0')
                        // if (activeIndex > 0) {
                        //     navSwiper.slides.eq(activeIndex - 1).find('span').transition(tSpeed)
                        //     navSwiper.slides.eq(activeIndex - 1).find('span').css('color', 'rgba(51,51,51,1)')
                        // }
                        // if (activeIndex < this.slides.length) {
                        //     navSwiper.slides.eq(activeIndex + 1).find('span').transition(tSpeed)
                        //     navSwiper.slides.eq(activeIndex + 1).find('span').css('color', 'rgba(51,51,51,1)')
                        // }
                        //导航居中
                        navActiveSlideLeft = navSwiper.slides[activeIndex].offsetLeft //activeSlide距左边的距离
          
                        navSwiper.setTransition(tSpeed)
                        if (navActiveSlideLeft < (clientWidth - parseInt(navSlideWidth)) / 2) {
                            navSwiper.setTranslate(0)
                        } else if (navActiveSlideLeft > navWidth - (parseInt(navSlideWidth) + clientWidth) / 2) {
                            navSwiper.setTranslate(clientWidth - navWidth)
                        } else {
                            navSwiper.setTranslate((clientWidth - parseInt(navSlideWidth)) / 2 - navActiveSlideLeft)
                        }
          
                    },
                }
            });
          
            navSwiper.$el.on('touchstart', function(e) {
                e.preventDefault() //去掉按压阴影
            })
            navSwiper.on('tap', function(e) {
                clickIndex = this.clickedIndex
                clickSlide = this.slides.eq(clickIndex)
                pageSwiper.slideTo(clickIndex, 0);
                bar.css('width', this.slides.eq(clickIndex).css('width'))
                // this.slides.find('span').css('color', 'rgb(51, 51, 51)');
                // clickSlide.find('span').css('color', '#485ec0');
            })
          
            // navSwiper.slideTo(4, 1000, false);
            // pageSwiper.slideTo(4, 0);

            //内容滚动			
            // var scrollSwiper = new Swiper('.scroll', {
          
            //     slidesOffsetBefore: 72,
            //     direction: 'vertical',
            //     freeMode: true,
            //     slidesPerView: 'auto',
          
            //     mousewheel: {
            //         releaseOnEdges: true,
            //     },
            //     on: {
            //         touchMove: function() {
          
            //             if (this.translate > 72 - 36 && this.translate < 72) {
            //                 topBar.transform('translateY(' + (this.translate - 72) + 'px)');
            //             }
          
            //         },
            //         touchStart: function() {
            //             startPosition = this.translate
            //         },
            //         touchEnd: function() {
            //             topBar.transition(tSpeed)
            //             if (this.translate > 36 && this.translate < 72 && this.translate < startPosition) {
            //                 topBar.transform('translateY(-36px)');
            //                 for (sc = 0; sc < scrollSwiper.length; sc++) {
            //                     if (scrollSwiper[sc].translate > 36) {
            //                         scrollSwiper[sc].setTransition(tSpeed);
            //                         scrollSwiper[sc].setTranslate(36)
            //                     }
            //                 }
            //             }
            //             if (this.translate > 36 && this.translate < 72 && this.translate > startPosition) {
            //                 topBar.transform('translateY(0px)');
            //                 for (sc = 0; sc < scrollSwiper.length; sc++) {
            //                     if (scrollSwiper[sc].translate < 72 && scrollSwiper[sc].translate > 0) {
            //                         scrollSwiper[sc].setTransition(tSpeed);
            //                         scrollSwiper[sc].setTranslate(72)
            //                     }
            //                 }
          
            //             }
          
            //         },
          
            //         transitionStart: function() {
          
            //             topBar.transition(tSpeed)
            //             if (this.translate < 72 - 36) {
            //                 topBar.transform('translateY(-36px)');
            //                 if (scrollSwiper) {
            //                     for (sc = 0; sc < scrollSwiper.length; sc++) {
            //                         if (scrollSwiper[sc].translate > 36) {
            //                             scrollSwiper[sc].setTransition(tSpeed);
            //                             scrollSwiper[sc].setTranslate(36)
            //                         }
            //                     }
            //                 }
          
            //             } else {
            //                 topBar.transform('translateY(0px)');
          
            //                 if (scrollSwiper) {
            //                     for (sc = 0; sc < scrollSwiper.length; sc++) {
            //                         if (scrollSwiper[sc].translate < 72 && scrollSwiper[sc].translate > 0) {
            //                             scrollSwiper[sc].setTransition(tSpeed);
            //                             scrollSwiper[sc].setTranslate(72)
            //                         }
            //                     }
            //                 }
            //             }
            //         },
            //     }
          
            // })
          
        
            </script> -->
</html>





